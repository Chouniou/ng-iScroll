angular.module("ng-iscroll",[]).directive("ngIscroll",function(){return{replace:!1,restrict:"A",link:function(scope,element,attr){function setScroll(){void 0===scope.$parent.myScroll&&(scope.$parent.myScroll=[]),scope.$parent.myScroll[scroll_key]=new iScroll(element[0],ngiScroll_opts)}var ngiScroll_timeout=5,ngiScroll_opts={snap:!0,momentum:!0,hScrollbar:!1},scroll_key=attr.ngIscroll;if(""===scroll_key&&(scroll_key=attr.id),void 0!==attr.ngIscrollForm&&"true"==attr.ngIscrollForm&&(ngiScroll_opts.useTransform=!1,ngiScroll_opts.onBeforeScrollStart=function(e){for(var target=e.target;1!=target.nodeType;)target=target.parentNode;"SELECT"!=target.tagName&&"INPUT"!=target.tagName&&"TEXTAREA"!=target.tagName&&e.preventDefault()}),scope.$parent.myScrollOptions)for(var i in scope.$parent.myScrollOptions)if(i===scroll_key)for(var k in scope.$parent.myScrollOptions[i])ngiScroll_opts[k]=scope.$parent.myScrollOptions[i][k];else ngiScroll_opts[i]=scope.$root.myScrollOptions[i];void 0!==attr.ngIscrollDelay&&(ngiScroll_timeout=attr.ngIscrollDelay),scope.$watch(attr.ngIscroll,function(){setTimeout(setScroll,ngiScroll_timeout)})}}});